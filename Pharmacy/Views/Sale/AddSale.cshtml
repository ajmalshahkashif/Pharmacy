
@model Pharmacy.Models.ItemValidation

@{
    ViewBag.Title = "AddSale";
    Layout = "~/Views/Shared/_LayoutLeftMenu.cshtml";
}

<style type="text/css">
</style>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <hr />
    <div class="row">

        <div class="col-md-5 col-lg-5 col-md-5">
            <span>Item name</span>
            <span>@Html.TextBoxFor(model => model.Name, new { @class = "form-control" })</span>
            <input type="hidden" id="hiddenTest" value="" name="" />
        </div>

        <div class="col-md-1 col-lg-1 col-md-1">
            <span>Pack Size</span>
            <span>@Html.TextBoxFor(model => model.PackSize, new { @class = "form-control" })</span>
        </div>

        <div class="col-md-1 col-lg-1 col-md-1">
            <span>P/L</span>
            <span>@Html.TextBox("P/L", null, new { @class = "form-control" })</span>
        </div>

        <div class="col-md-1 col-lg-1 col-md-1">
            <span>Price</span>
            <span>@Html.TextBoxFor(model => model.SalePrice, new { @class = "form-control" })</span>
        </div>

        <div class="col-md-1 col-lg-1 col-md-1">
            <span>Qty</span>
            <span>@Html.TextBox("Qty", null, new { @class = "form-control" })</span>
        </div>

        <div class="col-md-1 col-lg-1 col-md-1">
            <span>Total</span>
            <span>@Html.TextBox("Total", null, new { @class = "form-control" })</span>
        </div>

        <div class="col-md-1 col-lg-1 col-md-1">
            <span>Stock</span>
            <span>@Html.TextBox("InStock", null, new { @class = "form-control" })</span>
        </div>

        <div class="col-md-1 col-lg-1 col-md-1">
            <span></span><br />
            <span><button type="button" class="btn btn-bitbucket">Add</button></span>
        </div>

    </div>


}

<script type="text/javascript">
    $(document).ready(function () {
        $("#Name").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: "/Sale/MedicineList",
                    type: "POST",
                    dataType: "json",
                    data: { Prefix: request.term },
                    success: function (data) {
                        response($.map(data, function (item) {
                            return { label: item.Name, value: item.ID };
                        }))
                    },
                    select: function (event, ui) {
                        var tttt = 3;
                        // pass back to controller here
                    },
                    error: function (err) {
                    }
                })
            }

            //, classes: {
            //    "ui-autocomplete": "highlight"
            //}
        });

        $("#Name").autocomplete({
            select: function (event, ui) {
                $('#hiddenTest').val(ui.item.value);
            }
        });
    })
</script>
